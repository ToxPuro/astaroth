Field field0

//hostdefine STENCIL_ORDER (2) // may not be needed as long as this <= default
Stencil filter {
    [0][-1][-1] = (1.0 / 9.0),
    [0][-1][0]  = (1.0 / 9.0),
    [0][-1][1]  = (1.0 / 9.0),
    [0][0][-1] = (1.0 / 9.0),
    [0][0][0]  = (1.0 / 9.0),
    [0][0][1]  = (1.0 / 9.0),
    [0][1][-1] = (1.0 / 9.0),
    [0][1][0]  = (1.0 / 9.0),
    [0][1][1]  = (1.0 / 9.0)
}

Kernel blur() {
    write(field0, filter(field0))
}